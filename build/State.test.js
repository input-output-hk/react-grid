"use strict";

var _react = _interopRequireDefault(require("react"));

var _testUtils = _interopRequireDefault(require("react-dom/test-utils"));

var _enzyme = require("enzyme");

var _State = require("./State");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var getWrapper = function getWrapper() {
  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return (0, _enzyme.mount)(_react["default"].createElement(_State.Provider, props, _react["default"].createElement(_State.Consumer, null, function (_ref) {
    var screenSizes = _ref.screenSizes,
        screenSize = _ref.screenSize;
    return _react["default"].createElement("div", null, _react["default"].createElement("ul", null, Object.keys(screenSizes).map(function (screenSize) {
      return _react["default"].createElement("li", {
        key: screenSize
      }, screenSizes[screenSize]);
    })), _react["default"].createElement("span", {
      key: "current screen size"
    }, screenSize));
  })));
};

describe('State', function () {
  afterEach(function () {
    global.windowEventListeners = {};
  });
  test('the default state is correct', function () {
    expect(getWrapper()).toMatchSnapshot();
  });
  describe('xs screens', function () {
    var wrapper;
    beforeEach(function () {
      window.innerWidth = 320;
      wrapper = getWrapper();
    });
    test('the default state is correct', function () {
      expect(wrapper).toMatchSnapshot();
    });
    describe('when screen resized to sm screen', function () {
      beforeEach(function () {
        window.innerWidth = 600;

        _testUtils["default"].act(function () {
          global.triggerWindowEvent('resize');
        });
      });
      test('it updates the wrapper correctly', function () {
        wrapper.update();
        expect(wrapper).toMatchSnapshot();
      });
    });
  });
  describe('sm screens', function () {
    beforeEach(function () {
      window.innerWidth = 600;
    });
    test('the default state is correct', function () {
      expect(getWrapper()).toMatchSnapshot();
    });
  });
  describe('md screens', function () {
    beforeEach(function () {
      window.innerWidth = 800;
    });
    test('the default state is correct', function () {
      expect(getWrapper()).toMatchSnapshot();
    });
  });
  describe('lg screens', function () {
    beforeEach(function () {
      window.innerWidth = 1100;
    });
    test('the default state is correct', function () {
      expect(getWrapper()).toMatchSnapshot();
    });
  });
  describe('xl screens', function () {
    beforeEach(function () {
      window.innerWidth = 1600;
    });
    test('the default state is correct', function () {
      expect(getWrapper()).toMatchSnapshot();
    });
  });
  describe('when using custom break points', function () {
    var wrapper;
    beforeEach(function () {
      wrapper = getWrapper({
        screenSizes: {
          sm: 200,
          md: 300,
          lg: 400,
          xl: 400
        }
      });
    });
    test('it renders correctly', function () {
      expect(wrapper).toMatchSnapshot();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9TdGF0ZS50ZXN0LnRzeCJdLCJuYW1lcyI6WyJnZXRXcmFwcGVyIiwicHJvcHMiLCJzY3JlZW5TaXplcyIsInNjcmVlblNpemUiLCJPYmplY3QiLCJrZXlzIiwibWFwIiwiZGVzY3JpYmUiLCJhZnRlckVhY2giLCJnbG9iYWwiLCJ3aW5kb3dFdmVudExpc3RlbmVycyIsInRlc3QiLCJleHBlY3QiLCJ0b01hdGNoU25hcHNob3QiLCJ3cmFwcGVyIiwiYmVmb3JlRWFjaCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJSZWFjdFRlc3RVdGlscyIsImFjdCIsInRyaWdnZXJXaW5kb3dFdmVudCIsInVwZGF0ZSIsInNtIiwibWQiLCJsZyIsInhsIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsSUFBTUEsVUFBVSxHQUFHLFNBQWJBLFVBQWEsR0FBZ0I7QUFBQSxNQUFmQyxLQUFlLHVFQUFQLEVBQU87QUFDakMsU0FBTyxtQkFDTCxnQ0FBQyxlQUFELEVBQWNBLEtBQWQsRUFDRSxnQ0FBQyxlQUFELFFBQ0c7QUFBQSxRQUFHQyxXQUFILFFBQUdBLFdBQUg7QUFBQSxRQUFnQkMsVUFBaEIsUUFBZ0JBLFVBQWhCO0FBQUEsV0FDQyw2Q0FDRSw0Q0FDR0MsTUFBTSxDQUFDQyxJQUFQLENBQVlILFdBQVosRUFBeUJJLEdBQXpCLENBQTZCLFVBQUFILFVBQVU7QUFBQSxhQUN0QztBQUFJLFFBQUEsR0FBRyxFQUFFQTtBQUFULFNBQ0dELFdBQVcsQ0FBQ0MsVUFBRCxDQURkLENBRHNDO0FBQUEsS0FBdkMsQ0FESCxDQURGLEVBUUU7QUFBTSxNQUFBLEdBQUcsRUFBQztBQUFWLE9BQ0dBLFVBREgsQ0FSRixDQUREO0FBQUEsR0FESCxDQURGLENBREssQ0FBUDtBQW9CRCxDQXJCRDs7QUE4QkFJLFFBQVEsQ0FBQyxPQUFELEVBQVUsWUFBTTtBQUN0QkMsRUFBQUEsU0FBUyxDQUFDLFlBQU07QUFDZEMsSUFBQUEsTUFBTSxDQUFD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QUlPLE9BQUo7QUFDQUMsSUFBQUEsVUFBVSxDQUFDLFlBQU07QUFDZkQsTUFBQUEsT0FBTyxHQUFHZCxVQUFVLENBQUM7QUFDbkJFLFFBQUFBLFdBQVcsRUFBRTtBQUNYb0IsVUFBQUEsRUFBRSxFQUFFLEdBRE87QUFFWEMsVUFBQUEsRUFBRSxFQUFFLEdBRk87QUFHWEMsVUFBQUEsRUFBRSxFQUFFLEdBSE87QUFJWEMsVUFBQUEsRUFBRSxFQUFFO0FBSk87QUFETSxPQUFELENBQXBCO0FBUUQsS0FUUyxDQUFWO0FBV0FkLElBQUFBLElBQUksQ0FBQyxzQkFBRCxFQUF5QixZQUFNO0FBQ2pDQyxNQUFBQSxNQUFNLENBQUNFLE9BQUQsQ0FBTixDQUFnQkQsZUFBaEI7QUFDRCxLQUZHLENBQUo7QUFHRCxHQWhCTyxDQUFSO0FBaUJELENBNUZPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgUmVhY3RUZXN0VXRpbHMgZnJvbSAncmVhY3QtZG9tL3Rlc3QtdXRpbHMnXG5pbXBvcnQgeyBtb3VudCB9IGZyb20gJ2VuenltZSdcbmltcG9ydCB7IFByb3ZpZGVyLCBDb25zdW1lciB9IGZyb20gJy4vU3RhdGUnXG5cbmNvbnN0IGdldFdyYXBwZXIgPSAocHJvcHMgPSB7fSkgPT4ge1xuICByZXR1cm4gbW91bnQoKFxuICAgIDxQcm92aWRlciB7Li4ucHJvcHN9PlxuICAgICAgPENvbnN1bWVyPlxuICAgICAgICB7KHsgc2NyZWVuU2l6ZXMsIHNjcmVlblNpemUgfSkgPT4gKFxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgIHtPYmplY3Qua2V5cyhzY3JlZW5TaXplcykubWFwKHNjcmVlblNpemUgPT4gKFxuICAgICAgICAgICAgICAgIDxsaSBrZXk9e3NjcmVlblNpemV9PlxuICAgICAgICAgICAgICAgICAge3NjcmVlblNpemVzW3NjcmVlblNpemVdfVxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDxzcGFuIGtleT0nY3VycmVudCBzY3JlZW4gc2l6ZSc+XG4gICAgICAgICAgICAgIHtzY3JlZW5TaXplfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9Db25zdW1lcj5cbiAgICA8L1Byb3ZpZGVyPlxuICApKVxufVxuXG5pbnRlcmZhY2UgR2xvYmFsIHtcbiAgdHJpZ2dlcldpbmRvd0V2ZW50OiBGdW5jdGlvbixcbiAgd2luZG93RXZlbnRMaXN0ZW5lcnM6IE9iamVjdFxufVxuXG5kZWNsYXJlIGNvbnN0IGdsb2JhbDogR2xvYmFsXG5cbmRlc2NyaWJlKCdTdGF0ZScsICgpID0+IHtcbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBnbG9iYWwud2luZG93RXZlbnRMaXN0ZW5lcnMgPSB7fVxuICB9KVxuXG4gIHRlc3QoJ3RoZSBkZWZhdWx0IHN0YXRlIGlzIGNvcnJlY3QnLCAoKSA9PiB7XG4gICAgZXhwZWN0KGdldFdyYXBwZXIoKSkudG9NYXRjaFNuYXBzaG90KClcbiAgfSlcblxuICBkZXNjcmliZSgneHMgc2NyZWVucycsICgpID0+IHtcbiAgICBsZXQgd3JhcHBlclxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgKHdpbmRvdyBhcyBhbnkpLmlubmVyV2lkdGggPSAzMjBcbiAgICAgIHdyYXBwZXIgPSBnZXRXcmFwcGVyKClcbiAgICB9KVxuXG4gICAgdGVzdCgndGhlIGRlZmF1bHQgc3RhdGUgaXMgY29ycmVjdCcsICgpID0+IHtcbiAgICAgIGV4cGVjdCh3cmFwcGVyKS50b01hdGNoU25hcHNob3QoKVxuICAgIH0pXG5cbiAgICBkZXNjcmliZSgnd2hlbiBzY3JlZW4gcmVzaXplZCB0byBzbSBzY3JlZW4nLCAoKSA9PiB7XG4gICAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICAgKHdpbmRvdyBhcyBhbnkpLmlubmVyV2lkdGggPSA2MDBcbiAgICAgICAgUmVhY3RUZXN0VXRpbHMuYWN0KCgpID0+IHtcbiAgICAgICAgICBnbG9iYWwudHJpZ2dlcldpbmRvd0V2ZW50KCdyZXNpemUnKVxuICAgICAgICB9KVxuICAgICAgfSlcblxuICAgICAgdGVzdCgnaXQgdXBkYXRlcyB0aGUgd3JhcHBlciBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICAgIHdyYXBwZXIudXBkYXRlKClcbiAgICAgICAgZXhwZWN0KHdyYXBwZXIpLnRvTWF0Y2hTbmFwc2hvdCgpXG4gICAgICB9KVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ3NtIHNjcmVlbnMnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAod2luZG93IGFzIGFueSkuaW5uZXJXaWR0aCA9IDYwMFxuICAgIH0pXG5cbiAgICB0ZXN0KCd0aGUgZGVmYXVsdCBzdGF0ZSBpcyBjb3JyZWN0JywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGdldFdyYXBwZXIoKSkudG9NYXRjaFNuYXBzaG90KClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdtZCBzY3JlZW5zJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgKHdpbmRvdyBhcyBhbnkpLmlubmVyV2lkdGggPSA4MDBcbiAgICB9KVxuXG4gICAgdGVzdCgndGhlIGRlZmF1bHQgc3RhdGUgaXMgY29ycmVjdCcsICgpID0+IHtcbiAgICAgIGV4cGVjdChnZXRXcmFwcGVyKCkpLnRvTWF0Y2hTbmFwc2hvdCgpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnbGcgc2NyZWVucycsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICh3aW5kb3cgYXMgYW55KS5pbm5lcldpZHRoID0gMTEwMFxuICAgIH0pXG5cbiAgICB0ZXN0KCd0aGUgZGVmYXVsdCBzdGF0ZSBpcyBjb3JyZWN0JywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGdldFdyYXBwZXIoKSkudG9NYXRjaFNuYXBzaG90KClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCd4bCBzY3JlZW5zJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgKHdpbmRvdyBhcyBhbnkpLmlubmVyV2lkdGggPSAxNjAwXG4gICAgfSlcblxuICAgIHRlc3QoJ3RoZSBkZWZhdWx0IHN0YXRlIGlzIGNvcnJlY3QnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoZ2V0V3JhcHBlcigpKS50b01hdGNoU25hcHNob3QoKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ3doZW4gdXNpbmcgY3VzdG9tIGJyZWFrIHBvaW50cycsICgpID0+IHtcbiAgICBsZXQgd3JhcHBlclxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgd3JhcHBlciA9IGdldFdyYXBwZXIoe1xuICAgICAgICBzY3JlZW5TaXplczoge1xuICAgICAgICAgIHNtOiAyMDAsXG4gICAgICAgICAgbWQ6IDMwMCxcbiAgICAgICAgICBsZzogNDAwLFxuICAgICAgICAgIHhsOiA0MDBcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgdGVzdCgnaXQgcmVuZGVycyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBleHBlY3Qod3JhcHBlcikudG9NYXRjaFNuYXBzaG90KClcbiAgICB9KVxuICB9KVxufSlcbiJdfQ==